# Changelog
All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](http://keepachangelog.com/en/1.0.0/)
and this project adheres to [Semantic Versioning](http://semver.org/spec/v2.0.0.html).

## 1.1.0

### Added

- port of the autopeering system from skybian to the skywire source code.  [#1309](https://github.com/skycoin/skywire/pull/1309)
- `-l --hvip` and `-m --autopeer` flags for `skywire-visor` ; connect to a hypervisor by ip address.  [#1309](https://github.com/skycoin/skywire/pull/1309)
- `skywire-cli visor pk -w` flag ; http endpoint for visor public key [#1309](https://github.com/skycoin/skywire/pull/1309)
- `-y --autoconn` and `-z --ispublic` flags for `skywire-cli config gen` [#1319](https://github.com/skycoin/skywire/pull/1319)
- error packet to routes to propagate route errors [#1181](https://github.com/skycoin/skywire/issues/1181)
- `skywire-cli chvpk` subcommand to list remote hypervisor(s) a visor is currently connected to [#1306](https://github.com/skycoin/skywire/issues/1306)
- pong packet to send as a response to ping to calculate latency [#1261](https://github.com/skycoin/skywire/issues/1261)

### Changed

- improve UI reaction while system is busy
- hide password options in UI if authentication is disabled
- fix freezing hypervisor UI on hypervisor disconnection [#1321](https://github.com/skycoin/skywire/issues/1321)
- fix route setup hooks to check if transport to remote is established [#1297](https://github.com/skycoin/skywire/issues/1297)
- rename network probe packet to ping [#1261](https://github.com/skycoin/skywire/issues/1261)

### Removed

- remove updater settings from UI

## 1.0.0

### Added

- `skywire-cli hv` subcommands for opening the various UIs or printing links to them (HVUI, VPNUI, DMSGPTYUI) [#1270](https://github.com/skycoin/skywire/pull/1270)
- added `add-rhv` and `disable-rhv` flags to `skywire-visor` for adding remote hypervisor PK and disable remote hypervisor PK(s) on config file [#1113](https://github.com/skycoin/skywire/pull/1113)
- shorthand flags for commands [#1151](https://github.com/skycoin/skywire/pull/1151)
- blue & white color scheme with coloredcobra [#1151](https://github.com/skycoin/skywire/pull/1151)
- ascii art text modal of program name to help menus [#1151](https://github.com/skycoin/skywire/pull/1151)
- `--all` flag to skywire-cli & visor to show extra flags [#1151](https://github.com/skycoin/skywire/pull/1151)
- `skywire-cli config gen -n --stdout` write config to stdout [#1151](https://github.com/skycoin/skywire/pull/1151)
- `skywire-cli config gen   -w, --hide` dont print the config to the terminal [#1151](https://github.com/skycoin/skywire/pull/1151)
- `skywire-cli config gen --print` parse test ; read config from file & print [#1151](https://github.com/skycoin/skywire/pull/1151)
- `skywire-cli config gen   -a, --url` services conf (default "conf.skywire.skycoin.com") [#1151](https://github.com/skycoin/skywire/pull/1151)
- fetch service from endpoint [#1151](https://github.com/skycoin/skywire/pull/1151)
- `skywire-cli visor app` app settings command [#1132](https://github.com/skycoin/skywire/pull/1132)
- `skywire-cli visor route` view and set rules command [#1132](https://github.com/skycoin/skywire/pull/1132)
- `skywire-cli visor tp` view and set transports command [#1132](https://github.com/skycoin/skywire/pull/1132)
- `skywire-cli visor vpn` vpn interface command [#1132](https://github.com/skycoin/skywire/pull/1132)
- root permissions detection
- error on different version config / visor
- display update command on config version error
- support for piping config generated by skywire-cli to skywire-visor via stdin [#1147](https://github.com/skycoin/skywire/pull/1147)
- support for detecting skywire version when `go run`
- `run-vpnsrv` makefile directive [#1147](https://github.com/skycoin/skywire/pull/1147)
- `run-source-test` makefile directive [#1147](https://github.com/skycoin/skywire/pull/1147)
- `run-vpnsrv-test` makefile directive [#1147](https://github.com/skycoin/skywire/pull/1147)
- `run-source-dmsghttp` makefile directive [#1147](https://github.com/skycoin/skywire/pull/1147)
- `run-source-dmsghttp-test` makefile directive [#1147](https://github.com/skycoin/skywire/pull/1147)
- `run-vpnsrv-dmsghttp` makefile directive [#1147](https://github.com/skycoin/skywire/pull/1147)
- `run-vpnsrv -dmsghttp-test` makefile directive [#1147](https://github.com/skycoin/skywire/pull/1147)
- `install-system-linux` and `install-system-linux-systray` makefile directives [#1180](https://github.com/skycoin/skywire/pull/1180)
- `skywire-cli dmsgpty list` to view of connected remote visor to hypervisor [#1250](https://github.com/skycoin/skywire/pull/1250)
- `skywire-cli dmsgpty start <pk>` to connect through dmsgpty to remote visor [#1250](https://github.com/skycoin/skywire/pull/1250)
- `make win-installer-latest` to create installer for latest version of released, not pre-release.
- `trace` log level is added
- `--log-level` flag to generate and update config by `skywire-cli`

### Changed
- remove dsmghttp migration to skywire-visor starting
- only support current version of config
- config version reflects current visor version (`1.0.0`)
- refine and restructure help commands user interface
- shorthand flags for commands
- group skywire-cli visor subcommands
- hide excess flags
- make help text fit within default 80x24 terminal
- rename `skywire-cli config gen -r --replace` flag to `-r --regen`
- remove config path from V1 struct
- remove all instance of the visor writing to the config file except via api
- remove path to dmsghttp-config.json from config
- revise versioning
- move to skyenv
- remove transports cache from visor initialization and check them before make route
- `run-source` makefile directive write config to stdout & read config from stdin
- fixed skywire-visor uses skywire-config.json (default config name) without needing to specify
- `make win-installer` need new argument `CUSTOM_VERSION` to get make installer for this version, use for pre-releases
- changed the log levels of most of the logs making info level clutter free

### Removed

- inbuilt updater ; instead use packages and the system package manger for installation and updates [#1251](https://github.com/skycoin/skywire/pull/1251)

## 0.6.0


### Added

- added `update` and `summary` as subcommand to `skywire-cli visor`
- added multiple new flag to update configuration in `skywire-cli config update`
- added shell autocompletion command to `skywire-cli` and `skywire-visor`
- added `dsmgHTTPStruct` in visorconfig pkg to usable other repos, such as `skybian`
- added `dmsghttp-config.json` which contains the `dmsg-urls` of services and info of `dmsg-servers` for both prod and test
- added `servers` filed to `dmsg` in config
- added `-d,--dmsghttp` flag to `skywire-cli config gen`
- added `dmsgdirect` client to connect to services over dmsg
- added `-f` flag to skywire-visor to configure a visor to expose hypervisor UI with default values at runtime
- added `--public-rpc` falg to `skywire-cli config gen`
- added `--vpn-server-enable` falg to `skywire-cli config gen`
- added `--os` flag to `skywire-cli config gen`
- added `--disable-apps` flag to `skywire-cli config gen`
- added `--disable-auth` and `--enable-auth` flags to `skywire-cli config gen`
- added `--best-protocol` flag to `skywire-cli config gen`
- added `skywire-cli visor vpn-ui` and `skywire-cli visor vpn-url` commands
- added dsmghttp migration to skywire-visor starting
- added network monitor PKs to skyenv

### Changed

- detecting OS in runtime removed
- skybian flag `-s` removed from `skywire-cli config gen`
- migrate updating logic to debian package model

## 0.5.0

### Added

- added persistent_transports field to the config and UI
- added stun_servers field to the config
- added is_public field to root section
- added public_autoconnect field to transport section
- added transport_setup_nodes field to transport section
- added MinHops field to V1Routing section of config
- added `skywire-cli config` subcommand
- added connection_duration field to `/api/visor/{pk}/apps/vpn-client/connections`

### Changed

- config updated to `v1.1.0`
- removed public_trusted_visor field from root section
- removed trusted_visors field from transport section
- removed authorization_file field from dmsgpty section
- changed default urls to newer shortned ones
- changed proxy_discovery_addr field to service_discovery
- updated UI
- removed `--public` flag from `skywire-cli visor add-tp` command
- removed `skywire-cli visor gen-config` and `skywire-cli visor update-config` subcommands.
- replaced stcp field to skywire-tcp in config and comments
- replaced local_address field to listening_address in config
- replaced port field to dmsg_port in config
- updated visor health status checks, no longer querying multiple external services endpoints.

## 0.2.1 - 2020.04.07

### Changed

- reverted port changes for `skysocks-client`

## 0.2.0 - 2020.04.02

### Added

- added `--retain-keys` flag to `skywire-cli visor gen-config` command
- added `--secret-key` flag to `skywire-cli visor gen-config` command
- added hypervisorUI frontend
- added default values for visor if certain fields of config are empty

### Fixed

- fixed deployment route finder HTTP request
- fixed /user endpoint not working when auth is disabled

### Changed

- changed port of hypervisorUI and applications
- replaced unix sockets for app to visor communication to tcp sockets
- reverted asynchronous sending of router packets

## 0.1.0 - 2020.04.02

First release of Skywire Mainnet.
